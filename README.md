# Inventory Management System

A Django-based inventory management system for handling products, suppliers, stock movements, and sale orders. This system allows users to manage products, suppliers, and track stock levels, including creating, canceling, and completing sale orders. It also includes the functionality to track stock movement and update the stock levels accordingly.

## Features

- **Add Products**: Allows adding new products with details such as name, price, description, category, stock quantity, and supplier.
- **List Products**: Displays a list of all products with details like name, price, description, stock quantity, and supplier.
- **Add Suppliers**: Allows adding new suppliers with details such as name, email, phone number, and address.
- **List Suppliers**: Displays a list of all suppliers with their name, email, phone number, and address.
- **Stock Movement**: Tracks stock movement, allowing the user to record incoming ("in") or outgoing ("out") stock and update stock levels accordingly.
- **Create Sale Order**: Allows users to create sale orders by selecting products, verifying sufficient stock, and calculating the total price.
- **Cancel Sale Order**: Allows users to cancel a sale order and update the stock back.
- **Complete Sale Order**: Allows users to mark an order as "completed" and update stock levels accordingly.
- **List Sale Orders**: Displays a list of all sale orders, including product name, quantity, total price, sale date, and status.
- **Stock Level Check**: Displays the current stock levels for each product.

## Installation

### Prerequisites
- Python 3.x
- Django
- MongoDB (for storing data)

### Steps to Set Up

1. **Clone the Repository:**

   ```bash
   git clone https://github.com/TechAZsure/scan-pay-go.git
   cd inventory-management-system

2. **Set Up Virtual Environment:**
   **For Windows:**
      python -m venv venv
      .\venv\Scripts\activate

   **For macOS/Linux:**
      python3 -m venv venv
      source venv/bin/activate

3. **Install Dependencies:**
   Install all the required dependencies using the requirements.txt file: pip install -r requirements.txt

4. **Installation of MongoDB**
   Go to https://www.mongodb.com/docs/manual/installation/
   And install the MongoDB community Installer

   After installation open MongoDB and Create **inventory_db** as database name

5. **Open CMD**
   1. After activation of virtual Environment
   2. cd inventory-management-system
   3. python manage.py runserver

   Then inventory_management wepage will be host


**Source codes**
1. **inventory_system/inventory_system/settings.py**
         """
      Django settings for inventory_system project.

      Generated by 'django-admin startproject' using Django 3.1.12.

      For more information on this file, see
      https://docs.djangoproject.com/en/3.1/topics/settings/

      For the full list of settings and their values, see
      https://docs.djangoproject.com/en/3.1/ref/settings/
      """

      from pathlib import Path

      # Build paths inside the project like this: BASE_DIR / 'subdir'.
      BASE_DIR = Path(__file__).resolve().parent.parent

      # Quick-start development settings - unsuitable for production
      # See https://docs.djangoproject.com/en/3.1/howto/deployment/checklist/

      # SECURITY WARNING: keep the secret key used in production secret!
      SECRET_KEY = 'cwu#i5^6-oi=(t^nuqk*0g^+!)t7pew(mmqmms0_*qc_=6&_xf'

      # SECURITY WARNING: don't run with debug turned on in production!
      DEBUG = True

      ALLOWED_HOSTS = []

      # Application definition
      INSTALLED_APPS = [
         'django.contrib.admin',
         'django.contrib.auth',
         'django.contrib.contenttypes',
         'django.contrib.sessions',
         'django.contrib.messages',
         'django.contrib.staticfiles',
         'inventory',
      ]

      MIDDLEWARE = [
         'django.middleware.security.SecurityMiddleware',
         'django.contrib.sessions.middleware.SessionMiddleware',
         'django.middleware.common.CommonMiddleware',
         'django.middleware.csrf.CsrfViewMiddleware',
         'django.contrib.auth.middleware.AuthenticationMiddleware',
         'django.contrib.messages.middleware.MessageMiddleware',
         'django.middleware.clickjacking.XFrameOptionsMiddleware',
      ]

      ROOT_URLCONF = 'inventory_system.urls'

      TEMPLATES = [
         {
            'BACKEND': 'django.template.backends.django.DjangoTemplates',
            'DIRS': [],
            'APP_DIRS': True,
            'OPTIONS': {
                  'context_processors': [
                     'django.template.context_processors.debug',
                     'django.template.context_processors.request',
                     'django.contrib.auth.context_processors.auth',
                     'django.contrib.messages.context_processors.messages',
                  ],
            },
         },
      ]

      WSGI_APPLICATION = 'inventory_system.wsgi.application'

      # Database
      DATABASES = {
         'default': {
            'ENGINE': 'djongo',
            'NAME': 'inventory_db',
         }
      }

      # Password validation
      AUTH_PASSWORD_VALIDATORS = [
         {
            'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
         },
         {
            'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
         },
         {
            'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
         },
         {
            'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
         },
      ]

      # Internationalization
      LANGUAGE_CODE = 'en-us'
      TIME_ZONE = 'UTC'
      USE_I18N = True
      USE_L10N = True
      USE_TZ = True

      # Static files (CSS, JavaScript, Images)
      STATIC_URL = '/static/'
      STATICFILES_DIRS = [
         BASE_DIR / "static",
      ]
      STATIC_ROOT = BASE_DIR / "staticfiles"


2. **inventory_system/inventory_system/urls.py**
      """inventory_system URL Configuration
      The `urlpatterns` list routes URLs to views. For more information please see:
         https://docs.djangoproject.com/en/3.1/topics/http/urls/
      Examples:
      Function views
         1. Add an import:  from my_app import views
         2. Add a URL to urlpatterns:  path('', views.home, name='home')
      Class-based views
         1. Add an import:  from other_app.views import Home
         2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
      Including another URLconf
         1. Import the include() function: from django.urls import include, path
         2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
      """
      from django.contrib import admin
      from django.urls import path, include

      urlpatterns = [
         path('admin/', admin.site.urls),
         path('', include('inventory.urls')),
      ]


3. **inventory_system/inventory/admin.py**
      from django.contrib import admin
      from .models import Supplier, Product, Saleorder, StockMovement

      # Registering the models to the Django Admin
      class SupplierAdmin(admin.ModelAdmin):
         list_display = ('name', 'email', 'phone_number', 'address')
         search_fields = ('name', 'email')

      class ProductAdmin(admin.ModelAdmin):
         list_display = ('name', 'price', 'stock_quantity', 'supplier', 'category')
         search_fields = ('name', 'category')
         list_filter = ('supplier', 'category')

      class SaleorderAdmin(admin.ModelAdmin):
         list_display = ('product', 'quantity', 'total_price', 'sale_date')
         list_filter = ('sale_date',)
         search_fields = ('product__name',)

      class StockMovementAdmin(admin.ModelAdmin):
         list_display = ('product', 'quantity', 'movement_type', 'date')
         list_filter = ('movement_type', 'date')
         search_fields = ('product__name',)

      # Register models with custom Admin
      admin.site.register(Supplier, SupplierAdmin)
      admin.site.register(Product, ProductAdmin)
      admin.site.register(Saleorder, SaleorderAdmin)
      admin.site.register(StockMovement, StockMovementAdmin)


4. **inventory_system/inventory/forms.py**
      from django import forms
      from .models import Product, Supplier, Saleorder

      # Form for Product
      class ProductForm(forms.ModelForm):
         class Meta:
            model = Product
            fields = ['name', 'price', 'stock_quantity', 'description', 'category', 'supplier']

      # Form for Supplier
      class SupplierForm(forms.ModelForm):
         class Meta:
            model = Supplier
            fields = ['name', 'email', 'phone_number', 'address']

      # Form for Sale Order
      class SaleorderForm(forms.ModelForm):
         class Meta:
            model = Saleorder
            fields = ['product', 'quantity']


5. **inventory_system/inventory/models.py**
      from djongo import models

      # Model for Supplier
      class Supplier(models.Model):
         name = models.CharField(max_length=255, unique=True)  # Unique name constraint
         email = models.EmailField(unique=True)  # Unique email constraint
         phone_number = models.CharField(max_length=15, unique=True)  # Unique phone number constraint
         address = models.TextField()

         class Meta:
            db_table = 'inventory_supplier'

         def __str__(self):
            return self.name

      # Model for Product
      class Product(models.Model):
         name = models.CharField(max_length=100)
         price = models.DecimalField(max_digits=10, decimal_places=2)
         stock_quantity = models.IntegerField(default=0)
         description = models.TextField(null=True, blank=True)
         category = models.CharField(max_length=100, null=True, blank=True)
         supplier = models.ForeignKey(Supplier, on_delete=models.CASCADE)

         class Meta:
            db_table = 'inventory_product'

         def __str__(self):
            return self.name

      # Model for Sale Order
      class Saleorder(models.Model):
         product = models.ForeignKey(Product, on_delete=models.CASCADE)
         quantity = models.PositiveIntegerField()
         total_price = models.DecimalField(max_digits=10, decimal_places=2)
         status = models.CharField(max_length=20, choices=[("Pending", "Pending"), ("Cancelled", "Cancelled"), ("Completed", "Completed")])
         sale_date = models.DateTimeField(auto_now_add=True)
         notes = models.TextField(blank=True, null=True)

         class Meta:
            db_table = 'inventory_saleorder'

         def __str__(self):
            return f"order {self.id} - {self.product.name}"
         
      # Model for Stock Movement
      class StockMovement(models.Model):
         MOVEMENT_CHOICES = [
            ('in', 'Incoming'),
            ('out', 'Outgoing'),
         ]

         product = models.ForeignKey(Product, on_delete=models.CASCADE, related_name='stock_movements')
         movement_type = models.CharField(max_length=3, choices=MOVEMENT_CHOICES)
         quantity = models.DecimalField(max_digits=10, decimal_places=2)
         date = models.DateTimeField(auto_now_add=True)

         class Meta:
            db_table = 'inventory_stockmovement'

         def save(self, *args, **kwargs):
            # Update stock levels
            if self.movement_type == 'out' and self.product.stock_quantity < self.quantity:
                  raise ValueError("Cannot move stock out: insufficient quantity.")
            if self.movement_type == 'in':
                  self.product.stock_quantity += self.quantity
            elif self.movement_type == 'out':
                  self.product.stock_quantity -= self.quantity

            self.product.save()
            super().save(*args, **kwargs)


6. **inventory_system/inventory/urls.py**
      from django.urls import path
      from . import views

      urlpatterns = [
         path('', views.home, name='home'),
         path('add_product/', views.add_product, name='add_product'),
         path('list_products/', views.list_products, name='list_products'),
         path('add_supplier/', views.add_supplier, name='add_supplier'),
         path('list_suppliers/', views.list_suppliers, name='list_suppliers'),
         path('create_sale_order/', views.create_sale_order, name='create_sale_order'),
         path('list_sale_orders/', views.list_sale_orders, name='list_sale_orders'),
         path('add_stock_movement/', views.add_stock_movement, name='add_stock_movement'),
         path('stock_level_check/', views.add_stock_movement, name='stock_level_check'),
      ]


7. **inventory_system/inventory/views.py**
      from django.shortcuts import render, redirect, get_object_or_404
      from django.contrib import messages
      from django.http import HttpResponse
      from django.db import DatabaseError
      from .forms import ProductForm, SupplierForm, SaleorderForm
      from .models import Product, Supplier, Saleorder, StockMovement
      from decimal import Decimal

      # View to render the home page
      def home(request):
         return render(request, 'base.html')

      # View to add a new product
      def add_product(request):
         if request.method == "POST":
            name = request.POST.get('name')
            price = request.POST.get('price')
            description = request.POST.get('description')
            category = request.POST.get('category')
            stock_quantity = request.POST.get('stock_quantity')
            supplier_name = request.POST.get('supplier')

            # Fetch or create the supplier
            supplier, created = Supplier.objects.get_or_create(name=supplier_name)

            # Create the product
            Product.objects.create(
                  name=name,
                  price=price,
                  description=description,
                  category=category,
                  stock_quantity=stock_quantity,
                  supplier=supplier
            )
            return redirect('list_products')  # Replace with your product listing view name
         
         return render(request, 'add_product.html')

      # View to list all products
      def list_products(request):
         products = Product.objects.all()  # Get all products from the database
         return render(request, 'list_product.html', {'products': products})

      # View to add a new supplier
      def add_supplier(request):
         if request.method == 'POST':
            name = request.POST.get('name')
            email = request.POST.get('email')
            phone_number = request.POST.get('phone_number')
            address = request.POST.get('address')

            # Check for duplicates first
            if Supplier.objects.filter(name=name).exists():
                  messages.error(request, 'A supplier with this name already exists.')
            elif Supplier.objects.filter(email=email).exists():
                  messages.error(request, 'A supplier with this email already exists.')
            elif Supplier.objects.filter(phone_number=phone_number).exists():
                  messages.error(request, 'A supplier with this phone number already exists.')
            else:
                  try:
                     # Save the new supplier
                     Supplier.objects.create(name=name, email=email, phone_number=phone_number, address=address)
                     messages.success(request, 'Supplier added successfully.')
                     return redirect('list_suppliers')  # Redirect to the supplier list page after successful add
                  except DatabaseError as e:
                     # This will capture any database-specific error (such as unique constraint violation)
                     messages.error(request, f"Database error: {str(e)}")
                  except Exception as e:
                     # General exception handling for unexpected errors
                     messages.error(request, f"Unexpected error: {str(e)}")

         return render(request, 'add_supplier.html')

      # View to list all suppliers
      def list_suppliers(request):
         suppliers = Supplier.objects.all()
         return render(request, 'list_suppliers.html', {'suppliers': suppliers})

      # View to create a new sale order
      def create_sale_order(request):
         if request.method == "POST":
            product_id = request.POST.get("product")
            quantity = int(request.POST.get("quantity"))
            product = Product.objects.get(id=product_id)

            if product.stock_quantity >= quantity:
                  total_price = product.price * quantity
                  Saleorder.objects.create(
                     product_id=product_id,
                     quantity=quantity,
                     total_price=total_price,
                     status="Pending"
                  )
                  product.stock_quantity -= quantity
                  product.save()
                  messages.success(request, "Sale order created successfully.")
                  return redirect("list_sale_orders")
            else:
                  messages.error(request, "Insufficient stock for this product.")
         
         products = Product.objects.all()
         return render(request, "create_sale_order.html", {"products": products})

      # View to list all sale orders
      def list_sale_orders(request):
         sale_orders = Saleorder.objects.all()
         return render(request, 'list_sale_orders.html', {'sale_orders': sale_orders})

      def add_stock_movement(request):
         products = Product.objects.all()

         if request.method == 'POST':
            product_id = request.POST.get('product')
            movement_type = request.POST.get('movement_type')
            quantity_str = request.POST.get('quantity', '').replace('“', '').replace('”', '')  # Remove fancy quotes
            quantity = Decimal(quantity_str)

            product = get_object_or_404(Product, id=product_id)

            try:
                  stock_movement = StockMovement(
                     product=product,
                     movement_type=movement_type,
                     quantity=quantity
                  )
                  messages.success(request, "Stock movement recorded successfully.")
            except ValueError as e:
                  messages.error(request, str(e))

            return redirect('add_stock_movement')

         return render(request, 'add_stock_movement.html', {'products': products})

      def cancel_sale_order(request, order_id):
         sale_order = Saleorder.objects.get(id=order_id)
         sale_order.status = "Cancelled"
         sale_order.product.stock_quantity += sale_order.quantity
         sale_order.product.save()
         sale_order.save()
         messages.success(request, "Sale order cancelled successfully.")
         return redirect("list_sale_orders")

      def complete_sale_order(request, order_id):
         sale_order = Saleorder.objects.get(id=order_id)
         if sale_order.status == "Pending":
            sale_order.status = "Completed"
            sale_order.save()
            messages.success(request, "Sale order marked as completed.")
         else:
            messages.error(request, "Only pending orders can be completed.")
         return redirect("list_sale_orders")

      def stock_level_check(request):
         products = Product.objects.all()
         return render(request, "stock_level_check.html", {"products": products})


**HTML Pages**
   cd inventory_system/inventory
   mkdir templates
   cd templates
   
   an then paste all the html pages in this

1. **After Hosting the webpages**
   Home page will look like
   ![alt text](<Home Page.png>)

2. In home page at nav bar there are the webpages links from that if we click **Add Product**
   The add product webpage appears
   ![alt text](<Add product.png>)
   In this add product there are the inputs like
   1. Product Name
   2. Price
   3. Description
   4. Category
   5. Stock Quantity
   6. Supplier

3. After entering the details in the add product page i.e 
   ![alt text](<Add new product entering.png>)
   then after that it opens the product list inventory page i.e 
   ![alt text](<Add product inventory.png>)
   then the details will be stored in MongoDB i.e
   ![alt text](<Add products stored.png>)

4. And before entering the products page first we want to create new supplier details to be filled by entering add supplier page i.e
   ![alt text](<Add new supplier.png>)
   then in the new supplier page it will have the input details like
   1. Supplier Name
   2. Email
   3. Phone Number
   4. Address

5. After enter the details of the new supplier details
   ![alt text](<New supplier data entering.png>)
   then after clicking the new supplier button then the list of suppliers inventory page opens i.e
   ![alt text](<List of suppliers stored.png>)

6. Now after that by clicking the stock movement option it open the stock movement page i.e
   ![alt text](<Stock Movement Page.png>)
   in this we have to select the input like
   1. Product
   2. Movement type i.e Incoming or Outgoing
   3. Quantity

   after entering the details by clicking the record stock movement button it will updates in the database how many stocks of the product required

7. After creating a full-fledged inventory management appliction then its user's turn to create a sale order, cancel and List their sales and also they can purchase the products.

8. Once they purchased the stock quantity from the inventory decreases and in case if they cancel the order the stocks of that particular id database it gets revert back.

Like this inventory management application will works
